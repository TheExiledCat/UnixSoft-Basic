
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://theexiledcat.github.io/UnixSoft-Basic/USB.html">
      
      
        <link rel="prev" href="guide.html">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>USB Reference - UnixSoft-BASIC Reference</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unixsoft-basic-usb-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="UnixSoft-BASIC Reference" class="md-header__button md-logo" aria-label="UnixSoft-BASIC Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UnixSoft-BASIC Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              USB Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="UnixSoft-BASIC Reference" class="md-nav__button md-logo" aria-label="UnixSoft-BASIC Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    UnixSoft-BASIC Reference
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="getting-started.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    USB Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="USB.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    USB Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-basics" class="md-nav__link">
    <span class="md-ellipsis">
      General basics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grammar" class="md-nav__link">
    <span class="md-ellipsis">
      Grammar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-from-applesoft-basic" class="md-nav__link">
    <span class="md-ellipsis">
      Differences from AppleSoft-BASIC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Differences from AppleSoft-BASIC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes" class="md-nav__link">
    <span class="md-ellipsis">
      Changes:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statements" class="md-nav__link">
    <span class="md-ellipsis">
      Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-control" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variable Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    <span class="md-ellipsis">
      CLEAR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cscope" class="md-nav__link">
    <span class="md-ellipsis">
      CSCOPE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dim" class="md-nav__link">
    <span class="md-ellipsis">
      DIM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#def" class="md-nav__link">
    <span class="md-ellipsis">
      DEF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#let" class="md-nav__link">
    <span class="md-ellipsis">
      LET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    <span class="md-ellipsis">
      TYPE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    <span class="md-ellipsis">
      ENUM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow" class="md-nav__link">
    <span class="md-ellipsis">
      Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#goto" class="md-nav__link">
    <span class="md-ellipsis">
      GOTO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gosub" class="md-nav__link">
    <span class="md-ellipsis">
      GOSUB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ret" class="md-nav__link">
    <span class="md-ellipsis">
      RET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menu" class="md-nav__link">
    <span class="md-ellipsis">
      MENU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for" class="md-nav__link">
    <span class="md-ellipsis">
      FOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for_1" class="md-nav__link">
    <span class="md-ellipsis">
      FOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#next" class="md-nav__link">
    <span class="md-ellipsis">
      NEXT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    <span class="md-ellipsis">
      IF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end" class="md-nav__link">
    <span class="md-ellipsis">
      END
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop" class="md-nav__link">
    <span class="md-ellipsis">
      STOP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onerr" class="md-nav__link">
    <span class="md-ellipsis">
      ONERR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throw" class="md-nav__link">
    <span class="md-ellipsis">
      THROW
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-io" class="md-nav__link">
    <span class="md-ellipsis">
      User I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#print" class="md-nav__link">
    <span class="md-ellipsis">
      PRINT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#penum" class="md-nav__link">
    <span class="md-ellipsis">
      PENUM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poptions" class="md-nav__link">
    <span class="md-ellipsis">
      POPTIONS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      INPUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#home" class="md-nav__link">
    <span class="md-ellipsis">
      HOME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#htab-and-vtab" class="md-nav__link">
    <span class="md-ellipsis">
      HTAB and VTAB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flash" class="md-nav__link">
    <span class="md-ellipsis">
      FLASH
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphics" class="md-nav__link">
    <span class="md-ellipsis">
      GRAPHICS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-and-time" class="md-nav__link">
    <span class="md-ellipsis">
      Date and Time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date" class="md-nav__link">
    <span class="md-ellipsis">
      DATE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    <span class="md-ellipsis">
      TIME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#day-or-hour-or-minute-or-second" class="md-nav__link">
    <span class="md-ellipsis">
      DAY or HOUR or MINUTE or SECOND
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




<h1 id="unixsoft-basic-usb-reference">UnixSoft-BASIC (USB) Reference</h1>
<h2 id="general-basics">General basics</h2>
<p>USB is a superset of AppleSoft BASIC. This means that most syntax specifics will be similar or the same to the AppleSoft variant, with small adjustments or additions here and there.</p>
<p>Certain things are the same:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">5</span>
</code></pre></div></td></tr></table></div>
<p>While others are slightly different:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">S$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;My age is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">23</span><span class="w"> </span><span class="o">//</span><span class="vg">valid</span><span class="w"> </span><span class="vg">string</span><span class="p">,</span><span class="w"> </span><span class="vg">non</span><span class="w"> </span><span class="vg">string</span><span class="w"> </span><span class="vg">operands</span><span class="w"> </span><span class="vg">get</span><span class="w"> </span><span class="vg">stringified</span>
</code></pre></div></td></tr></table></div>
<p>However, most syntax hasnt changed. So when lost, you can also get away with using the original <a href="https://www.calormen.com/jsbasic/reference.html">AppleSoft BASIC</a> references.</p>
<p>USB Keywords, identifiers and functions are case-insensitive. this means <code>print</code> is the same as <code>PRINT</code> and <code>LET X = 5; PRINT x</code> are valid USB</p>
<h3 id="grammar">Grammar</h3>
<p>The core of the USB syntax is split into 2 types of symbols:</p>
<ul>
<li>Expressions</li>
<li>Statements</li>
</ul>
<p>These expand into the following:</p>
<ul>
<li>Expressions<ul>
<li>arithmic expressions or identifiers (<code>x + y, 10 - 20 ...</code>)</li>
<li>function calls, constants or variables(<code>ABS(x), y, 10, "Hello" ...</code>)</li>
<li>conditionals (<code>x &lt; 10, b == FALSE, ...</code>)</li>
<li>More...</li>
</ul>
</li>
<li>Statements<ul>
<li>Assignments (<code>LET X = 10</code>)</li>
<li>Keywords (<code>PRINT, FOR, IF ...</code>)</li>
<li>Function calls</li>
<li>Definitions (<code>DEF MyLambda x, y = x * y</code>)</li>
<li>More...</li>
</ul>
</li>
</ul>
<h3 id="differences-from-applesoft-basic">Differences from AppleSoft-BASIC</h3>
<p>USB differs from applesoft basic in some fundamental areas, however, most AppleSoft Syntax is still mostly supported for legacy reasons.
A lot of redundant functionality has been either added on top of. Or an alternative has been added.</p>
<h4 id="changes">Changes:</h4>
<ul>
<li>
<p>Optional linenumbers</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="w">    </span><span class="il">10</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">numbered</span><span class="w"> </span><span class="vg">lines</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="kd">LET</span><span class="w"> </span><span class="vg">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Line</span><span class="w"> </span><span class="vg">inferred</span><span class="w"> </span><span class="vg">by</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="p">(</span><span class="il">11</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="kd">LET</span><span class="w"> </span><span class="vg">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">20</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Same</span><span class="w"> </span><span class="vg">here</span><span class="w"> </span><span class="p">(</span><span class="il">12</span><span class="p">)</span><span class="o">.</span><span class="w"> </span><span class="vg">In</span><span class="w"> </span><span class="vg">a</span><span class="w"> </span><span class="vg">fully</span><span class="w"> </span><span class="vg">unnumbered</span><span class="w"> </span><span class="vg">file</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">line</span><span class="w"> </span><span class="vg">numbers</span><span class="w"> </span><span class="vg">start</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="il">1</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Note this does come with a drawback for the compilers resolver:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="w">    </span><span class="il">10</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">//</span><span class="p">(</span><span class="il">10</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="kd">LET</span><span class="w"> </span><span class="vg">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="o">//</span><span class="p">(</span><span class="il">11</span><span class="p">)</span><span class="w"> </span><span class="vg">Inferred</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="il">11</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">//</span><span class="p">(</span><span class="il">11</span><span class="p">)</span><span class="w"> </span><span class="vg">Compiler</span><span class="w"> </span><span class="nl">error:</span><span class="w"> </span><span class="vg">duplicate</span><span class="w"> </span><span class="vg">statement</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Scopes:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="vg">BEGIN</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">5</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="vg">FIN</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">//</span><span class="vg">undefined</span><span class="w"> </span><span class="vg">token</span><span class="w"> </span><span class="vg">error</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="vg">BEGIN</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="o">//</span><span class="w"> </span><span class="vg">statements</span><span class="o">....</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="vg">FIN</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>;</code> instead of <code>:</code> for statement seperating</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="p">;</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Note: A single statement cant be spread over multiple lines, Commands are defined as a single line till <code>\n</code> or a <code>;</code> seperated list of statements</p>
</li>
</ul>
<h2 id="statements">Statements</h2>
<ol>
<li>
<h3 id="variable-control">Variable Control</h3>
<ul>
<li>
<h4 id="clear">CLEAR</h4>
<ul>
<li>Syntax: <code>CLEAR</code></li>
<li>Clear all global static variables</li>
<li>Note that 'Clearing' in USB means resetting the variables to their default values (e.g. 0 for numbers, "" for strings)</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span>
<span class="normal"><a href="#__codelineno-7-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">TRUE</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="kr">CLEAR</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">Y</span>
</code></pre></div></td></tr></table></div>
<p>Output</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="go">0</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="go">FALSE</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="cscope">CSCOPE</h4>
<ul>
<li>Syntax: <code>CLEAR</code></li>
<li><code>Same as above, but only clears variables in the current scope</code></li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span>
<span class="normal"><a href="#__codelineno-9-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="vg">BEGIN</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">20</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="vg">CSCOPE</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">Y</span>
</code></pre></div></td></tr></table></div>
<p>Output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="go">10</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="go">0</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="dim">DIM</h4>
<ul>
<li>Syntax: <code>DIM &lt;name&gt; (columns [,rows]) [AS &lt;DATATYPE&gt;]</code></li>
<li>Define array with specified width and height (or single dimension if left empty) .</li>
<li>Infers datatype when assigned if not annotated.</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kd">DIM</span><span class="w"> </span><span class="vg">arr</span><span class="p">(</span><span class="il">10</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">INTEGER</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">define</span><span class="w"> </span><span class="vg">an</span><span class="w">  </span><span class="vg">integer</span><span class="w"> </span><span class="vg">array</span><span class="p">,</span><span class="w"> </span><span class="vg">containing</span><span class="w"> </span><span class="vg">only</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="il">0</span><span class="c1">&#39;s</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="vg">arr</span><span class="p">[</span><span class="il">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">100</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">arr</span><span class="p">[</span><span class="il">0</span><span class="p">]</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="o">//</span><span class="vg">Inferred</span><span class="w"> </span><span class="vg">type</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="kd">DIM</span><span class="w"> </span><span class="vg">arr1</span><span class="p">(</span><span class="il">10</span><span class="p">)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="vg">arr1</span><span class="p">[</span><span class="il">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">100</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="kr">PRINT</span><span class="w"> </span><span class="kr">TYPE</span><span class="w"> </span><span class="p">(</span><span class="vg">arr1</span><span class="p">[</span><span class="il">0</span><span class="p">])</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">prints</span><span class="w"> </span><span class="k">INTEGER</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="o">//</span><span class="vg">Indexing</span><span class="w"> </span><span class="vg">multiple</span><span class="w"> </span><span class="nl">dimensions:</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="kd">DIM</span><span class="w"> </span><span class="vg">arr2</span><span class="p">(</span><span class="il">10</span><span class="p">,</span><span class="w"> </span><span class="il">10</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">INTEGER</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="vg">arr2</span><span class="p">[</span><span class="il">0</span><span class="p">][</span><span class="il">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">100</span><span class="w"> </span><span class="o">//</span><span class="vg">First</span><span class="w"> </span><span class="vg">array</span><span class="w"> </span><span class="vg">stores</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">rows</span><span class="p">,</span><span class="w"> </span><span class="vg">second</span><span class="w"> </span><span class="vg">indexer</span><span class="w"> </span><span class="vg">selects</span><span class="w"> </span><span class="vg">a</span><span class="w"> </span><span class="vg">column</span><span class="w"> </span><span class="vg">from</span><span class="w"> </span><span class="vg">that</span><span class="w"> </span><span class="vg">row</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="def">DEF</h4>
<ul>
<li>Syntax: <code>DEF &lt;name&gt; [param1, param2 , ...] = &lt;expression&gt;</code></li>
<li>Define a lambda function. This lambda can only return a single datatype.</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kr">DEF</span><span class="w"> </span><span class="vg">square</span><span class="w"> </span><span class="vg">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">x</span><span class="o">*</span><span class="vg">x</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">square</span><span class="p">(</span><span class="il">5</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">prints</span><span class="w"> </span><span class="il">25</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="let">LET</h4>
<ul>
<li>Syntax: <code>LET {&lt;name&gt; | &lt;name&gt; = &lt;expression&gt; | &lt;name&gt; AS &lt;DATATYPE&gt; | &lt;name&gt; = &lt;expression&gt; AS &lt;DATATYPE&gt;}</code></li>
<li>Declare and optionally assign a new variable.
    Infers datatype if not annotated.</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span>
<span class="normal"><a href="#__codelineno-13-5">5</a></span>
<span class="normal"><a href="#__codelineno-13-6">6</a></span>
<span class="normal"><a href="#__codelineno-13-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Declare</span><span class="w"> </span><span class="vg">and</span><span class="w"> </span><span class="vg">assign</span><span class="p">,</span><span class="w"> </span><span class="vg">Infers</span><span class="w"> </span><span class="vg">datatype</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="vg">FLOAT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Declare</span><span class="w"> </span><span class="vg">and</span><span class="w"> </span><span class="vg">assign</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="vg">datatype</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="o">//</span><span class="vg">or</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="vg">FLOAT</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Declare</span><span class="w"> </span><span class="vg">and</span><span class="w"> </span><span class="vg">assign</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="vg">datatype</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Z</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="vg">FLOAT</span><span class="w"> </span><span class="o">//</span><span class="vg">Default</span><span class="w"> </span><span class="vg">value</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">datatype</span><span class="w"> </span><span class="vg">is</span><span class="w"> </span><span class="vg">assigned</span><span class="p">,</span><span class="w"> </span><span class="vg">e</span><span class="o">.</span><span class="vg">g</span><span class="o">.</span><span class="w"> </span><span class="mf">0.0</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<p><strong>NOTE</strong>: LET, DEF and DIM:</p>
<ul>
<li>Assignments using <code>=</code>can only be used on variables already created using their respective keyword, you can NOT assign as declaration. E.g. <code>X = 5</code>without using <code>LET X</code> beforehand. This will throw a undefined variable error on compilation</li>
</ul>
</li>
<li>
<h4 id="type">TYPE</h4>
<ul>
<li>Syntax: <code>TYPE &lt;expression&gt;</code></li>
<li>Returns the type of the expression as a string, mostly used for debugging purposes</li>
<li>This is a compile time operation as it only works on expressions with a known return type at compile time. It just stores the type annotation as a constant string.</li>
<li>Example
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">5</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="kr">TYPE</span><span class="w"> </span><span class="p">(</span><span class="vg">X</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Gets</span><span class="w"> </span><span class="vg">replaced</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="k">INTEGER</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="vg">compile</span><span class="w"> </span><span class="vg">time</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="o">//</span><span class="k">INTEGER</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="enum">ENUM</h4>
<ul>
<li>Syntax: <code>ENUM &lt;name&gt; = &lt;key1 [value1]&gt; [, ...]</code></li>
<li>Define a C style enum where every key is mapped to a constant integer value</li>
<li>The values for each key can be inferred (starting at 0) but must be annotated if the order is not sequential</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="vg">ENUM</span><span class="w"> </span><span class="vg">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">UP</span><span class="p">,</span><span class="w"> </span><span class="vg">DOWN</span><span class="p">,</span><span class="w"> </span><span class="vg">LEFT</span><span class="p">,</span><span class="w"> </span><span class="vg">RIGHT</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="il">0</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">,</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="il">3</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="vg">ENUM</span><span class="w"> </span><span class="vg">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">FASTFOOD</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="vg">TEACHER</span><span class="p">,</span><span class="w"> </span><span class="vg">DOCTOR</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="il">3</span><span class="p">,</span><span class="w"> </span><span class="il">4</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="vg">ENUM</span><span class="w"> </span><span class="vg">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ROGUE</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="vg">WARRIOR</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="vg">MAGE</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="il">5</span><span class="p">,</span><span class="w"> </span><span class="il">6</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="vg">ENUM</span><span class="w"> </span><span class="vg">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">CYAN</span><span class="w"> </span><span class="il">2</span><span class="p">,</span><span class="w"> </span><span class="vg">GREEN</span><span class="w"> </span><span class="il">0</span><span class="p">,</span><span class="w"> </span><span class="vg">BLUE</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Error</span><span class="p">,</span><span class="w"> </span><span class="vg">value</span><span class="w"> </span><span class="vg">must</span><span class="w"> </span><span class="vg">be</span><span class="w"> </span><span class="vg">given</span><span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="vg">not</span><span class="w"> </span><span class="vg">sequential</span>
</code></pre></div></td></tr></table></div></li>
<li>Note: Enums in USB are nothing but named integers. that means that you can use them in any place where an integer is expected. Enums are not a type, just syntactic sugar. whenever a value is annotated with <code>AS &lt;MYENUM&gt;</code> it will just become an integer with the value of the enum. Default values of enum typed variables are the first keys value in the enum. Casting between integers and enum types is implicit</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="flow">Flow</h3>
<ul>
<li>
<h4 id="goto">GOTO</h4>
<ul>
<li>Syntax: <code>GOTO { linenumber | alias, linenumber }</code></li>
<li>Jump to the specified line or line in a file imported using <em>alias</em></li>
<li>
<p>Example (Prints the current date and time to the console permanently):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="nl">10</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">DATE</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="kr">GOTO</span><span class="w"> </span><span class="nl">10</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="o">//</span><span class="w"> </span><span class="vg">used</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="vg">an</span><span class="w"> </span><span class="vg">alias</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="vg">IMPORT</span><span class="w"> </span><span class="s2">&quot;my_lib.usb&quot;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="vg">MYLIB</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="kr">GOTO</span><span class="w"> </span><span class="nl">MYLIB</span><span class="p">,</span><span class="w"> </span><span class="il">10</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="o">//</span><span class="vg">my_lib</span><span class="o">.</span><span class="vg">usb</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="nl">10</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Hello from my_lib.usb&quot;</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="gosub">GOSUB</h4>
<ul>
<li>Same as <code>GOTO</code> but push onto the function stack and jump to sub routine. Expects a <code>RET</code> or <code>END</code> somewhere in the Sub routine</li>
<li><code>RET</code> can not return a value when using <code>GOSUB</code>. However global variables can be edited by the subroutine. For proper functions see <a href="#fn"><code>FN</code></a></li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span>
<span class="normal"><a href="#__codelineno-17-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nl">10</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">30</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="nl">20</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;BYE&quot;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="nl">30</span><span class="w"> </span><span class="kd">LET</span><span class="w"> </span><span class="vg">X$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">INPUT</span><span class="w"> </span><span class="s2">&quot;Fill in your name\n&gt; &quot;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="nl">40</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">X$</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="nl">50</span><span class="w"> </span><span class="vg">RET</span>
</code></pre></div></td></tr></table></div>
<p>Output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="go">Fill in your name</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="go">&gt; John</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="go">Hello John</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="go">BYE</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="ret">RET</h4>
<ul>
<li>Syntax: <code>RET [expression]</code></li>
<li>Return from a subroutine or function</li>
<li>Pops from the call stack and returns to the line Popped</li>
<li>When used with functions can optionally return a value</li>
</ul>
</li>
<li>
<h4 id="menu">MENU</h4>
<ul>
<li>Syntax: <code>MENU &lt;expression&gt; {&lt;statement1&gt; [,&lt;statement2&gt; ,...] | {GOTO | GOSUB } linenumber1 [ , linenumber2, ...}</code></li>
<li>A modern replacement of the <code>ON</code>command from applesoft.</li>
<li>When used with an expression, calls one of the statements given where <em>expression's</em> value is the index of the statement to use (1 based)</li>
<li>When used with either a <code>GOTO</code>or a <code>GOSUB</code> statement, instead pass a comma seperated list of linenumbers (can be aliased) to jump to.</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span>
<span class="normal"><a href="#__codelineno-19-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">INT</span><span class="p">(</span><span class="kr">INPUT</span><span class="w"> </span><span class="s2">&quot;Fill in a number from 1 - 3\n&gt; &quot;</span><span class="p">)</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="vg">MENU</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">10</span><span class="p">,</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">20</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="vg">or</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="vg">MENU</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">10</span><span class="p">,</span><span class="w"> </span><span class="il">20</span><span class="p">,</span><span class="w"> </span><span class="il">30</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="for">FOR</h4>
<ul>
<li>Syntax: <code>FOR &lt;temp-var&gt; = &lt;expression&gt;, &lt;condition&gt;, &lt;step-action&gt; = &lt;statement&gt; { [statement1 [, statement2, ...] NEXT] | &lt;scope&gt;}</code></li>
<li>
<p>starts a C-style for loop.</p>
</li>
<li>
<p>after the paramaters for the for loop are given can either call any statements until a <code>NEXT</code> call or given a Scope which will automatically call <code>NEXT</code> at the end.</p>
</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="p">,</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="il">10</span><span class="p">,</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="il">1</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">I</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="kr">NEXT</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="for_1">FOR</h4>
<ul>
<li>Syntax: <code>&lt;temp-var&gt; = &lt;number-expression&gt; TO &lt;number target&gt; [STEP stepsize] {statement1 [, statement2, ...] NEXT | &lt;scope&gt;}</code></li>
<li>
<p>Original Applesoft for loop. can be used with both floats and integers.</p>
</li>
<li>
<p>Also supports scopes or next like the C style loop</p>
</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="k">STEP</span><span class="w"> </span><span class="il">1</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">I</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="kr">NEXT</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="next">NEXT</h4>
<ul>
<li>Syntax <code>NEXT [count]</code></li>
<li>
<p>Forces a loop to continue from its start with its step incremented <em>count</em> times. If no count is given, it will increment by 1 or the loops STEP value.</p>
</li>
<li>
<p>when used with for loops, <em>count</em> can be used to specify how many times to call the step size or the C style end of loop statement. If a negative value is given a runtime error will occur</p>
</li>
<li>
<p>will error if used outside of a loop context.</p>
</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="k">STEP</span><span class="w"> </span><span class="il">1</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">I</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">increment</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="vg">by</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">STEP</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="kr">NEXT</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="if">IF</h4>
<ul>
<li>Syntax: <code>IF &lt;expression&gt; {THEN &lt;statement&gt; | GOTO | GOSUB | &lt;scope&gt;}</code></li>
<li>
<p>if expression is true perform the following:</p>
<ul>
<li>
<p>THEN: perform a single statement</p>
</li>
<li>
<p>GOTO or GOSUB: jump to a line using the logic in GOTO or GOSUB</p>
</li>
<li>
<p>IF can also be given a scope using <code>BEGIN</code>and <code>FIN</code> to call when the if statement is true</p>
</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span>
<span class="normal"><a href="#__codelineno-23-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">100</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">100</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="vg">BEGIN</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">2</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="vg">FIN</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
</ul>
</li>
<li>
<h4 id="end">END</h4>
<ul>
<li>
<p>Terminate the program early and cleanly with a 0 statuscode</p>
</li>
<li>
<p>Every script has an invisible <code>END</code> at the end of it. Hence this is mostly used for early returns</p>
</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">END</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="stop">STOP</h4>
<ul>
<li>Syntax: <code>STOP &lt;errorcode&gt;</code></li>
<li>Terminate the program early with the given error code</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">INT</span><span class="p">(</span><span class="s2">&quot;10q&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">format</span><span class="w"> </span><span class="vg">error</span><span class="p">,</span><span class="w"> </span><span class="kr">ERR</span><span class="w"> </span><span class="vg">gets</span><span class="w"> </span><span class="vg">value</span><span class="w"> </span><span class="vg">mapped</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">that</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="kr">IF</span><span class="w"> </span><span class="kr">ERR</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="kr">STOP</span><span class="w"> </span><span class="kr">ERR</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">Terminate</span><span class="w"> </span><span class="vg">program</span><span class="w"> </span><span class="vg">with</span><span class="w"> </span><span class="vg">error</span><span class="w"> </span><span class="vg">code</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="error-handling">Error Handling</h3>
<p>Error handling in USB is a bit different from other programming languages. It uses a special variable called <code>ERR</code> to store the error code . The <code>ERR</code> variable can be used to check if an error occurred and what the error code is. The <code>ERR</code> variable is automatically set to the error code when an error occurs.</p>
<p>Instead of a recursive backtracking approach to errors where nested scopes are unwound, errors in USB are global and linear. This means that handling errors in USB is a bit simpler and limited than other languages.</p>
<p>Heres how to write error handlers and create your own errors:</p>
<ul>
<li>
<h4 id="onerr">ONERR</h4>
<ul>
<li>Syntax: <code>ONERR &lt;statement&gt;</code></li>
<li>Sets the current error handler to a given statement. If a built in function throws an error or the <code>THROW</code> keyword is used, the error handler is called and the error code is passed into the <code>ERR</code> global variable</li>
<li>
<p>Example (Retry mechanism for input):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="nl">5</span><span class="w"> </span><span class="vg">ONERR</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">ERR</span><span class="p">,</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">10</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="nl">10</span><span class="w"> </span><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">INT</span><span class="p">(</span><span class="kr">INPUT</span><span class="w"> </span><span class="s2">&quot;Fill in a number\n&gt; &quot;</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="vg">format</span><span class="w"> </span><span class="vg">error</span><span class="p">,</span><span class="w"> </span><span class="kr">ERR</span><span class="w"> </span><span class="vg">gets</span><span class="w"> </span><span class="vg">value</span><span class="w"> </span><span class="vg">mapped</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">that</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="nl">20</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Note: ONERR is nothing but a label for a statement, whenever THROW is used, GOSUB ONERR is called. If ONERR is a single statement the RET at the end is inferred, otherwise a RET is needed.</p>
</li>
</ul>
</li>
<li>
<h4 id="throw">THROW</h4>
<ul>
<li>Syntax: <code>THROW &lt;code&gt;</code></li>
<li>Trigger the <code>ONERR</code> handler and store <em>code</em> into <code>ERR</code></li>
<li><em>code</em> must be a positive integer greater than 0</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="vg">ONERR</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Something went wrong. Errorcode: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">ERR</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">5</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="vg">THROW</span><span class="w"> </span><span class="il">100</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="o">//</span><span class="w"> </span><span class="vg">after</span><span class="w"> </span><span class="vg">ONERR</span><span class="w"> </span><span class="vg">is</span><span class="w"> </span><span class="vg">called</span><span class="p">,</span><span class="w"> </span><span class="vg">program</span><span class="w"> </span><span class="vg">continues</span><span class="w"> </span><span class="vg">here</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="user-io">User I/O</h3>
<ul>
<li>
<h4 id="print">PRINT</h4>
<ul>
<li>Syntax: <code>PRINT { &lt;format&gt; [, &lt;expression&gt; ...] | &lt;expression&gt; }</code></li>
<li>Prints the given expression(s) to the console. If a format is given, it is used to
    format the output, replacing any <code>{}</code>s with the expression(s) given from left to right.</li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">Name$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Kevin&quot;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Hello {}!&quot;</span><span class="p">,</span><span class="w"> </span><span class="vg">Name$</span>
</code></pre></div></td></tr></table></div>
<p>Output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="go">Hello Kevin!</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="penum">PENUM</h4>
<ul>
<li>Syntax: <code>PENUM &lt;ENUM&gt;, &lt;expression&gt;</code></li>
<li>Prints the given expression as if it were part of an enumeration.</li>
<li>Will throw an error if used on a non number value. floats are rounded down before checked.</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span>
<span class="normal"><a href="#__codelineno-30-3">3</a></span>
<span class="normal"><a href="#__codelineno-30-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="vg">ENUM</span><span class="w"> </span><span class="vg">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">NORTH</span><span class="p">,</span><span class="w"> </span><span class="vg">EAST</span><span class="p">,</span><span class="w"> </span><span class="vg">SOUTH</span><span class="p">,</span><span class="w"> </span><span class="vg">WEST</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">NORTH</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="il">0</span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="vg">PENUM</span><span class="w"> </span><span class="vg">direction</span><span class="p">,</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">NORTH</span>
</code></pre></div></td></tr></table></div></li>
<li>Note: <code>PENUM</code> generates an array of strings at compile time storing every stringified version of the enum value. This array is then used at runtime to print the correct string. If you used no PENUM calls in your code or on a specific enum, this array is not generated for that code or enum. You can use this fact to reduce binary size</li>
</ul>
</li>
<li>
<h4 id="poptions">POPTIONS</h4>
<ul>
<li>Syntax: <code>POPTIONS &lt;OPTION&gt;, &lt;expression&gt; [,expression, ...] &lt;prompt&gt;</code></li>
<li>Presents the user with a menu of options, allowing them to select one by entering its number. The last argument is the prompt to display under the menu.</li>
<li>Works similar to INPUT under the hood, returning the value of the chosen option, but as an integer so it can be used with <code>MENU</code> very easily.</li>
<li>Example: See <a href="guide.html#creating-a-selection-menu">Creating a menu</a></li>
</ul>
</li>
<li>
<h4 id="input">INPUT</h4>
<ul>
<li>Syntax: <code>INPUT [prompt]</code></li>
<li>Reads a line from <code>STDIN</code></li>
<li>Can be given an optional prompt to show the user</li>
<li>Hangs till input is given</li>
<li>Used as a function, returns the line read from <code>STDIN</code></li>
<li>
<p>Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">INPUT</span><span class="w"> </span><span class="s2">&quot;Enter a number&quot;</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">X$</span>
</code></pre></div></td></tr></table></div>
<p>Output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="go">Enter a number</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="go">&gt; 5</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="go">5</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<h4 id="get">GET</h4>
<ul>
<li>Syntax: <code>GET [prompt]</code></li>
<li>Reads a single key from <code>STDIN</code></li>
<li>Hangs till input is given</li>
<li>Optionally prints the prompt first</li>
<li>Returns the pressed key as a single character string the moment it is pressed.</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">X$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">GET</span><span class="w"> </span><span class="s2">&quot;Press any key to continue (q to quit)&quot;</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="kr">IF</span><span class="w"> </span><span class="vg">X$</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;q&quot;</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">END</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="o">//</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="vg">other</span><span class="w"> </span><span class="vg">code</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
<li>
<h4 id="home">HOME</h4>
<ul>
<li>Syntax: <code>HOME</code></li>
<li>Clears the screen</li>
</ul>
</li>
<li>
<h4 id="htab-and-vtab">HTAB and VTAB</h4>
<ul>
<li>Syntax: <code>HTAB &lt;expression&gt;</code> or <code>VTAB &lt;expression&gt;</code></li>
<li>Sets the horizontal or vertical position of the cursor on the <code>STDOUT</code> buffer.</li>
<li>top left is (0,0)</li>
<li>Values greater than the screen size are clamped to the size of the screen</li>
<li>To see the size of the screen buffer, see <code>SCREEN</code> command</li>
</ul>
</li>
<li>
<h4 id="flash">FLASH</h4>
<ul>
<li>Syntax: <code>FLASH &lt;expression&gt;</code></li>
<li>Sets the cursor flash to the boolean evaluation of the expression</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="graphics">GRAPHICS</h3>
<p>-</p>
</li>
<li>
<h3 id="date-and-time">Date and Time</h3>
<p>Since the original Applesoft BASIC language was very limited to the hardware it ran on, date and time functionality wasnt really that great.</p>
<p>USB build on that in a simple but still usable way:</p>
<ul>
<li>
<h3 id="date">DATE</h3>
<ul>
<li>Syntax: <code>DATE</code></li>
<li>Get the current date and time (Unix epoch) as an integer</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">DATE</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">now</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">e</span><span class="o">.</span><span class="vg">g</span><span class="o">.</span><span class="w"> </span><span class="il">1643723900</span>
</code></pre></div></td></tr></table></div></li>
<li>Note: Casting a date to a string using <code>STR()</code> will default to the format <code>YYYY-MM-DD HH:MM:SS</code></li>
</ul>
</li>
<li>
<h3 id="time">TIME</h3>
<ul>
<li>Get the current time of the day as a float storing the hour value (0-24)</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">TIME</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="kr">PRINT</span><span class="w"> </span><span class="vg">now</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="vg">e</span><span class="o">.</span><span class="vg">g</span><span class="o">.</span><span class="w"> </span><span class="mf">12.5</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="il">12</span><span class="o">:</span><span class="il">30</span>
</code></pre></div></td></tr></table></div></li>
<li>Note: Casting a time to a string using <code>STR()</code> will default to the format <code>HH:MM</code>. When used as a cast <code>TIME()</code> will return the time of a <code>DATE</code> integer</li>
</ul>
</li>
<li>
<h3 id="day-or-hour-or-minute-or-second">DAY or HOUR or MINUTE or SECOND</h3>
<ul>
<li>Helper functions to create a date integer storing a date offset</li>
<li>Example:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="kd">LET</span><span class="w"> </span><span class="vg">tommorow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">DATE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">DAY</span><span class="w"> </span><span class="il">1</span>
</code></pre></div></td></tr></table></div></li>
</ul>
</li>
</ul>
</li>
</ol>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="guide.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Guide">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Guide
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["toc.integrate", "toc.follow", "navigation.top", "navigation.tracking", "navigation.expand", "navigation.path", "navigation.footer", "navigation.sections"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>